<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Eztables : Simple yet powerful firewall configuration for Linux." />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Eztables</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/louwrentius/eztables">View on GitHub</a>

          <h1 id="project_title">Eztables</h1>
          <h2 id="project_tagline">Simple yet powerful firewall configuration for Linux.</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/louwrentius/eztables/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/louwrentius/eztables/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a name="eztables" class="anchor" href="#eztables"><span class="octicon octicon-link"></span></a>Eztables</h1>

<p>Eztables allows you to quickly configure a firewall without ever touching iptables. The firewall rule syntax is designed to be easy to read and to apply.  </p>

<p>This is how you allow the entire internet to access your webserver on tcp-port 80:</p>

<div class="highlight highlight-sh"><pre>    allow_in any <span class="nv">$eth0</span> any 80/tcp
</pre></div>

<p>Eztables is designed to be simple, yet powerful. It doesn't matter if you want to protect your laptop, are setting up a home router, or use it to setup a corporate firewall. </p>

<h1>
<a name="features" class="anchor" href="#features"><span class="octicon octicon-link"></span></a>Features</h1>

<ul>
<li>Basic input / output filtering</li>
<li>Network address translation (NAT)</li>
<li>Port address translation (PAT)</li>
<li>Support for VLANs</li>
<li>Working with Groups / Objects to aggregate hosts and services</li>
<li>Logging to syslog</li>
<li>Support for plugins</li>
<li>Automatically detects all network interfaces</li>
</ul><h1>
<a name="why-should-i-consider-using-eztables" class="anchor" href="#why-should-i-consider-using-eztables"><span class="octicon octicon-link"></span></a>Why should I consider using Eztables?</h1>

<p>Eztables has it's own firewall rule syntax that is significantly simpler than using iptables directly. A tool like <a href="https://help.ubuntu.com/community/UFW">UFW</a> was made with a similar mindset, but it is more host-centric. It was never designed to be used as a general-purpose firewall script.</p>

<p>Eztables on the other hand, can be used on any Linux box, wether it's a desktop, (virtual) server or network firewall. </p>

<p>Eztables has support for advanced features like NAT and port-forwarding. But one of the most powerfull features is support for object groups, as found in most commercial firewalls and routers. Object groups are cool because they allow you to group hosts in 'objects' and refer to those objects in your rules. This allows you to keep the number of firewall rules relatively small and comprehensible.</p>

<h1>
<a name="example-basic-network" class="anchor" href="#example-basic-network"><span class="octicon octicon-link"></span></a>Example: basic network</h1>

<p>With these two configuration lines, you can setup a functional home router. </p>

<div class="highlight highlight-sh"><pre>    nat <span class="nv">$eth1_net</span> <span class="nv">$eth0</span>
    allow_forward <span class="nv">$eth1_net</span> any any any
</pre></div>

<p>That's easy right? It's just two lines because Eztables can detect all network interfacesalso determine which one is connected to the internet (eth0).</p>

<p>This rule will allow SSH access to this router/firewall.</p>

<div class="highlight highlight-sh"><pre>    allow_in <span class="nv">$eth1_net</span> <span class="nv">$eth1</span> any 22/tcp
</pre></div>

<p>Note that SSH access is only granted from within the local network connected to the eth1 interface..</p>

<p>If you also run a DHCP-server on this box, you need to allow clients acces with these rules:</p>

<div class="highlight highlight-sh"><pre>    allow_in any <span class="nv">$eth1</span> any <span class="nv">$DHCP</span><span class="s2">" "</span><span class="nv">$DHCP</span><span class="s2">"</span>
<span class="s2">    allow_out "</span><span class="nv">$eth1</span><span class="s2">" any "</span><span class="nv">$DHCP</span><span class="s2">" "</span><span class="nv">$DHCP</span><span class="err">"</span>
</pre></div>

<p>The "$DHCP" variable should look like this:</p>

<div class="highlight highlight-sh"><pre>    <span class="nv">DHCP</span><span class="o">=</span><span class="s2">"</span>
<span class="s2">        67/udp</span>
<span class="s2">        68/udp</span>
<span class="s2">    "</span>
</pre></div>

<p>You may have to setup additional rules if you run a local DNS server or a <a href="http://louwrentius.com/setting-up-a-squid-proxy-with-clamav-anti-virus-using-c-icap.html">proxy server</a></p>

<h2>
<a name="working-with-object-groups" class="anchor" href="#working-with-object-groups"><span class="octicon octicon-link"></span></a>Working with object groups</h2>

<p>A main advantage of Eztables over other solutions is the possibility to define and use groups or objects. This is a feature commonly found on all commercial firewall products. </p>

<p>Working with object groups allows you to keep your firewall ruleset small and simple. Let's take a look at the use of objects and groups.</p>

<div class="highlight highlight-sh"><pre>    <span class="nv">HTTP_SERVICES</span><span class="o">=</span><span class="s2">"</span>
<span class="s2">        80/tcp</span>
<span class="s2">       443/tcp</span>
<span class="s2">    "</span>

    <span class="nv">WEB_SERVER_1</span><span class="o">=</span>192.168.0.10
    <span class="nv">WEB_SERVER_2</span><span class="o">=</span>192.168.0.20
    <span class="nv">WEB_SERVER_3</span><span class="o">=</span>192.168.0.30

    <span class="nv">WEB_SERVERS</span><span class="o">=</span><span class="s2">"</span>
<span class="s2">        $WEB_SERVER_1</span>
<span class="s2">        $WEB_SERVER_2</span>
<span class="s2">        $WEB_SERVER_3</span>
<span class="s2">    "</span>

    allow_in any <span class="s2">"$WEB_SERVERS"</span> any <span class="s2">"$HTTP_SERVICES"</span>
</pre></div>

<p>So object groups allow you to define firewall rules in a more abstract form, which is easy to maintain and to expand upon.</p>

<p>You can even nest objects. For example, you can define an object $BASIC_SERVICES that contains the objects $DNS $HTTP_SERVICES and $NTP. </p>

<h2>
<a name="installation" class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h2>

<p>Run the install.sh file like:</p>

<pre><code>bash install.sh
</code></pre>

<p>After that, review the configuration file: /etc/eztables/eztables.cfg</p>

<p>Start the firewall like this:</p>

<pre><code>/etc/init.d/eztables start
</code></pre>

<p>Be carefull not to lock yourself out if you test your rules.</p>

<pre><code>/etc/init.d/eztables start &amp;&amp; sleep 30 &amp;&amp; /etc/init.d/eztables stop
</code></pre>

<h2>
<a name="roadmap" class="anchor" href="#roadmap"><span class="octicon octicon-link"></span></a>Roadmap</h2>

<ul>
<li>Traffic shaping plugin</li>
<li>IPv6 support</li>
<li>Support for multi-homed networks</li>
<li>See the issue section for more </li>
</ul>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Eztables maintained by <a href="https://github.com/louwrentius">louwrentius</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-5175176-11");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>


  </body>
</html>
